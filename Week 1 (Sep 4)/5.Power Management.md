## Power Management

## reduce energy consumption as much as possible

1. Holding WakeLocks for Too Long

Problem: App holds a WakeLock (keeps CPU running even when screen off) unnecessarily, draining battery.

```c
    PowerManager.WakeLock wl = pm.newWakeLock(PowerManager.PARTIAL_WAKE_LOCK, "MyApp:WakeLock");
    wl.acquire();   // BAD - no timeout, may run forever
```m

Issue: CPU never sleeps â†’ battery drains even if app idle.

Alternative : Always release wake locks or set timeout.

```c
    wl.acquire(10 * 1000L /* 10 seconds */);  // auto-release after 10 sec
    ...
    wl.release();
```

2. Not Releasing Resources (Camera, WiFi, Bluetooth)

Problem: App keeps hardware resources alive even when not needed.

```c
    camera.open();
    // Forgot to release
```

Fix: Always close/release resources in lifecycle methods (onPause, onStop).

```c
    @Override
    protected void onPause() {
        super.onPause();
        camera.release();
    }
```
 
4. Unoptimized Push Notifications

Problem: App generates too many notifications (chat, updates, alerts), each one wakes device.

```c
    // Every message creates new notification
    sendNotification(message);
```

Issue: Wakes screen and CPU each time.

Alternative Fixes : Batch notifications (group them) , Use high-priority FCM messages only when urgent, otherwise normal priority.

5. Background Services Running Always

Problem: Apps run background services 24/7 (music apps, location trackers, etc.) even when not required.

Issue: Prevents device from entering Doze/Idle mode.

Fix:

Use JobScheduler / WorkManager with constraints (only when charging, on WiFi, etc.).
Stop services when not needed

```c
    WorkRequest uploadWork = newf OneTimeWorkRequest.Builder(UploadWorker.class)
        .setConstraints(new Constraints.Builder()
            .setRequiredNetworkType(NetworkType.UNMETERED) // run only on WiFi
            .build())
        .build();
    WorkManager.getInstance(context).enqueue(uploadWork);

```